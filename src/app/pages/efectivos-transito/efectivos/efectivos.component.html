<nb-card accent="danger" *ngIf ="danger" ngFor="">
<nb-card-header><button nbButton outline status="primary"  (click)="close()">Fichar detalhes</button></nb-card-header>
  <nb-card-header>Detalhes do Efectivo<strong> {{idefecttest.nome}} {{idefecttest.apelido}}</strong>
  </nb-card-header>
  <nb-card-body>
    <nb-accordion accent="danger">
      <nb-accordion-item>
        <nb-accordion-item-header>
         Dados Geral
        </nb-accordion-item-header>
        <nb-accordion-item-body>

          <div class="card-row">
            <div class="card-col">
              <nb-card size="tiny">
                <nb-card-header>Dados Biometrico</nb-card-header>

                <nb-card nbSpinnerSize="small">
                  <nb-card-body>
                    <div class="row">
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputFirstName">Fotografia </label>
                          <input type="text" class="form-control" value="{{idefecttest.fotografia}}" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputLastName">Assinatura</label>
                          <input type="text" class="form-control" value="{{idefecttest.assinatura}}" disabled />
                        </div>
                      </div>
                   
                    </div>
               
            
                  </nb-card-body>
                </nb-card>
              </nb-card>

              <nb-card size="tiny">
                <nb-card-header>Dados Profissionais</nb-card-header>
             
            
                  <nb-card nbSpinnerSize="small">
                    <nb-card-body>
                      <div class="row">
                        <div class="col-sm-5">
                          <div class="form-group">
                            <label for="inputFirstName">Nº ID </label>
                            <input type="text" class="form-control" value="{{idefecttest.id_pn}}" disabled/>
                          </div>
                        </div>
                        <div class="col-sm-5">
                          <div class="form-group">
                            <label for="inputLastName">Posto</label>
                            <input type="text" class="form-control" value="{{idefecttest.posto}}" disabled />
                          </div>
                        </div>
                        <div class="col-sm-5">
                          <div class="form-group">
                            <label for="inputBirthdayDate">Função</label>
                            <input type="text" class="form-control" value="{{idefecttest.funcao}}" disabled/>
                          </div>
                        </div>
                        <div class="col-sm-5">
                          <div class="form-group">
                            <label for="inputBirthdayDate">Nº Arma</label>
                            <input type="text" class="form-control" value="{{idefecttest.funcao}}" disabled/>
                          </div>
                        </div>
                      </div>
                 
              
                    </nb-card-body>
                  </nb-card>
        
          
              </nb-card>

              
            </div>

            <div class="card-col">
              <nb-card size="medium">
                <nb-card-header>Dados Biografico</nb-card-header>
                <nb-card nbSpinnerSize="small">
                  <nb-card-body>
                    <div class="row">
                      <div class="col-sm-7">
                        <div class="form-group">
                          <label for="inputFirstName">Nome Completo </label>
                          <input type="text" class="form-control" value="{{idefecttest.nome}} + {{idefecttest.apelido}} " style="width: 35em;" disabled/>
                        </div>
                      </div>
                      <br>
                      <div class="col-sm-7">
                        <div class="form-group">
                          <label for="inputLastName">Filiação</label>
                          <input type="text" class="form-control" value="{{idefecttest.filiacao}}" style="width: 35em;" disabled />
                        </div>
                      </div>
                      <div class="col-sm-7">
                        <div class="form-group">
                          <label for="inputLastName">Morada</label>
                          <input type="text" class="form-control" value="{{idefecttest.morada}}" disabled />
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Sexo</label>
                          <input type="text" class="form-control" value="{{idefecttest.sexo}}"  style="width: 12em;" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Nº CNI</label>
                          <input type="text" class="form-control" value="{{idefecttest.cni}}" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Nº NIF</label>
                          <input type="text" class="form-control" value="{{idefecttest.nif}}" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Data Nasciment</label>
                          <input type="text" class="form-control" value="{{idefecttest.data_nasc}}" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Idade</label>
                          <input type="text" class="form-control" value="{{idefecttest.Idade}}" disabled/>
                        </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label for="inputBirthdayDate">Conctato</label>
                          <input type="text" class="form-control" value="{{idefecttest.contacto}}" disabled/>
                        </div>
                      </div>
                    </div>
               
            
                  </nb-card-body>
                </nb-card>
              </nb-card>
            </div>
          </div>
            
        </nb-accordion-item-body>
      </nb-accordion-item>
      <nb-accordion-item>
        <nb-accordion-item-header>
         Armamento
        </nb-accordion-item-header>
        <nb-accordion-item-body>
         <strong>Numero:</strong> 
         <strong>Marca:</strong> 
         <strong>Calibre:</strong>
         <strong>Modelo:</strong> 
         <strong>Nº Carregador:</strong> 
         <strong>Nº Munições:</strong>  
         <strong>Estado</strong>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item>
        <nb-accordion-item-header>
        Ferias
        </nb-accordion-item-header>
        <nb-accordion-item-body>  
          <strong>Inicio:</strong> 
          <strong>Fim:</strong>  
          <strong>Local:</strong> 
          <strong>Localidade:</strong>  
          <strong>Despacho:</strong> 
          <strong>Estado:</strong> 
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item>
        <nb-accordion-item-header>
          Caderneta
        </nb-accordion-item-header>
        <nb-accordion-item-body>
         <strong>Infração:</strong> 
         <strong>valor de Coima:</strong> 
         <strong>Veiculo matricula:</strong> 
         <strong>Obs</strong>
        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item>
        <nb-accordion-item-header>
         Remunerado
        </nb-accordion-item-header>
        <nb-accordion-item-body>  
          <strong>Data de envio:</strong>
          <strong>Numero de Oficio:</strong>
          <strong>Destino:</strong> 
          <strong>Enviodo Por</strong> 
          <strong>Anexo de Nota</strong> 

          <strong>Entregado no dia:</strong> 
          <strong>Entregado à:</strong>
          <strong>Entregado por:</strong> 
          <strong>Anexo de guia</strong> 
         

        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item>
        <nb-accordion-item-header>
          Historico
        </nb-accordion-item-header>
        <nb-accordion-item-body>  
         
        </nb-accordion-item-body>
      </nb-accordion-item>
      
    </nb-accordion>
  </nb-card-body>
</nb-card>


<nb-card accent="info">
    <nb-card-header>
      Cadastro de Efectivos </nb-card-header>  
  
    <nb-card-body>
        <button style="margin-bottom: 1rem;" nbButton status="primary"  (click)="openModalDoc(null)">Novo Cadastro</button>   
        <ng2-smart-table #ng2TbEfectivos 
        [settings]="tbEfectConfig"
        (userRowSelect)="onEfectSelect($event)"
        [source]="source"
        (delete)="openModalExclusion($event)"  
         >          
        </ng2-smart-table>
    </nb-card-body>
 </nb-card>


 <ng-template #dialogDelete let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>ELIMINAR EFECTIVO</nb-card-header>
    <nb-card-body>
      Tens certeza que deseja excluir efectivo <span style="font-weight: bold">{{ data }}</span>  ?  
    </nb-card-body>
    <nb-card-footer>
      <button nbButton  status="danger" (click)="ref.close()">Cancelar</button>
      <button class="btn-action-modal" nbButton status="primary" (click)="btnDelete($event);">Excluir</button>
    </nb-card-footer>
  </nb-card>
</ng-template>


 <ng-template #dialogEfectivo>
 <nb-card style="width: 45em">
  <nb-card-body>
    <nb-stepper #stepper>
                         <!-- Dados Pessoais-->
      <nb-step [stepControl]="firstForm" label="Dados Pessoais">
        <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container">

          <label for="inputFirstName">Nome </label> 
          <div class="input-group" >
            <input nbInput type="text" placeholder="Introduza o nome" class="form-control" id = "nome" formControlName="nome" 
                  >        
          </div>
          <br>
          <label for="inputFirstName">Apelido </label>        
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o apelido" class="form-control" id = "apelido" formControlName="apelido"
                   >
          </div>
          <br>
          <label for="inputFirstName">Data de Nascimento </label>        
          <div class="input-group">
            <input nbInput type="date" placeholder="Introduza o data de nascimento" class="form-control" id="data_nasc" formControlName="data_nasc"
                   >
          </div>
          <br>
          <label for="inputFirstName">Nº Filiação </label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o nomes dos pais" class="form-control" id="filiacao" formControlName="filiacao"
                   >
          </div>
          <br>
          <label for="inputFirstName">Nº NIF </label>
          <div class="input-group">
            <input nbInput type="number" placeholder="Introduza o nº de nif" class="form-control" id="nif" formControlName="nif"
                   >
          </div>
          <br>
          <label for="inputFirstName">Morada </label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza morada" class="form-control" id="morada" formControlName="morada"
                   >
          </div>
          <br>
          <label for="inputFirstName">Nº Sexo </label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o sexo" class="form-control" id="sexo" formControlName="sexo"
                   >
          </div>
          <br>
          <label for="inputFirstName">Nº CNI</label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o nº de CNI" class="form-control" id="cni" formControlName="cni"
                  >
          </div>
          <br>
          <button class="btn-action-modal" nbButton status="primary" nbStepperNext>Seguinte</button>
        </form>

      </nb-step>
      <!--
                          // Dados Pessoais Continuação
      <nb-step [stepControl]="firstForm" label="Dados Pessoais(Continuação)">
                            <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container">
                    
                              <label for="inputFirstName">Nome </label> 
                              <div class="input-group" >
                                <input nbInput type="text" placeholder="Introduza o nome" class="form-control" id = "nome" formControlName="nome" 
                                      >        
                              </div>
                              <br>
                              <label for="inputFirstName">Apelido </label>        
                              <div class="input-group">
                                <input nbInput type="text" placeholder="Introduza o apelido" class="form-control" id = "apelido" formControlName="apelido"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Data de Nascimento </label>        
                              <div class="input-group">
                                <input nbInput type="date" placeholder="Introduza o data de nascimento" class="form-control" id="data_nasc" formControlName="data_nasc"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Nº Filiação </label>
                              <div class="input-group">
                                <input nbInput type="text" placeholder="Introduza o nomes dos pais" class="form-control" id="filiacao" formControlName="filiacao"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Nº NIF </label>
                              <div class="input-group">
                                <input nbInput type="number" placeholder="Introduza o nº de nif" class="form-control" id="nif" formControlName="nif"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Morada </label>
                              <div class="input-group">
                                <input nbInput type="text" placeholder="Introduza morada" class="form-control" id="morada" formControlName="morada"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Nº Sexo </label>
                              <div class="input-group">
                                <input nbInput type="text" placeholder="Introduza o sexo" class="form-control" id="sexo" formControlName="sexo"
                                       >
                              </div>
                              <br>
                              <label for="inputFirstName">Nº CNI</label>
                              <div class="input-group">
                                <input nbInput type="text" placeholder="Introduza o nº de CNI" class="form-control" id="cni" formControlName="cni"
                                      >
                              </div>
                              <br>
                              <button nbButton nbStepperNext>seguinte</button>
                            </form>
                    
      </nb-step>
    -->
                          <!-- Dados Profissional-->
      <nb-step [stepControl]="secondForm" label="Dados profissional ">
        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">

          <label for="inputFirstName">Nº Identficação do Efectivo</label>
          <div class="input-group">
            <input nbInput type="number" placeholder="Introduza o nº de identificação de pn" class="form-control" id ="id_pn" formControlName="id_pn"
                  >
          </div>
          <br>
          <label for="inputFirstName">Posto</label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o seu posto" class="form-control" id ="posto" formControlName="posto"
                  >
          </div>
          <br>
          <label for="inputFirstName">Função</label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o seu função" class="form-control" id ="funcao" formControlName="funcao"
                  >
          </div>
          <br>
          <nb-card-footer>
            <button nbButton  status="danger" nbStepperPrevious >Voltar</button>
            <button class="btn-action-modal" nbButton status="primary" nbStepperNext>Seguinte</button>
          </nb-card-footer>
        <!--
          <button nbButton nbStepperPrevious>voltar</button>
          <button nbButton nbStepperNext>seguinte</button>
        -->
        </form>
      </nb-step>

                          <!-- Dados Contactos-->
      <nb-step [stepControl]="thirdForm" label="Contactos">
        <form [formGroup]="thirdForm" (ngSubmit)="onThirdSubmit()" class="step-container">

          <label for="inputFirstName">Contacto</label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o contactos" class="form-control" id="contacto" formControlName="contacto"
                  >
          </div>
          <br>
          <label for="inputFirstName">Email</label>
          <div class="input-group">
            <input nbInput type="text" placeholder="Introduza o email" class="form-control" id="email" formControlName="email"
                  >
          </div>
          <br>
          <div class="input-group">
            <textarea nbInput fullWidth placeholder="Observações" id="obs" formControlName="obs" class="form-control" ></textarea>
           
          </div>
          <br>
          <nb-card-footer>
            <button nbButton  status="danger" nbStepperPrevious >Voltar</button>
            <button class="btn-action-modal" nbButton status="primary" nbStepperNext>Seguinte</button>
          </nb-card-footer>
        </form>
      </nb-step>

                          <!-- Finalização do Cadastro-->
      <nb-step [stepControl]="thirdForm" [hidden]="true" label="Finalizado">
        <div class="step-container">
          <div class="input-group">
          <h2>Para concluir o cadastro do efectivo clica em salvar</h2>
<br><br>
        </div>
<!--
          <button nbButton (click)="stepper.reset()">Cancelar</button>
          <button  nbButton status="primary" (click)="onSaveCarta($event)">Salvar</button>
-->
        </div>
        <nb-card-footer>
          <button nbButton  status="danger" nbStepperPrevious  (click)="stepper.reset()">Voltar</button>
          <button class="btn-action-modal" nbButton status="primary" nbStepperNext (click)="onSaveCarta($event)">Seguinte</button>
        </nb-card-footer>
      </nb-step>

    </nb-stepper>
  </nb-card-body>
</nb-card>
 </ng-template>

<!--
  <ng-template #dialogEfectivo   >
    <nb-card style="width: 75em" >
      <nb-card-body>
        <button class="linear-mode-button"
                nbButton
                (click)="toggleLinearMode()">
          {{ linearMode ? 'Disable' : 'Enable' }} linear mode
        </button>
    
        <nb-stepper #stepper [linear]="linearMode">
    
          <nb-step [stepControl]="formEfectivo" label="Dados Pessoais">
            <form  #formEfectivo="ngForm" class="step-container">
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o nome"
                       class="form-control"
                       name="nome"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o apelido"
                       class="form-control"
                       name="apelido"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza filiacao"
                       class="form-control"
                       name="filiacao"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza morada"
                       class="form-control"
                       name="morada"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza data nascimento"
                       class="form-control"
                       name="data_nasc"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza CNI"
                       class="form-control"
                       name="cni"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <button nbButton nbStepperNext status="primary">Seguinte</button>
            </form>
          </nb-step>
    
          <nb-step [stepControl]="formEfectivo" label="Dados profissional ">
            <form  #formEfectivo="ngForm" class="step-container">
              <div class="input-group">
                <input type="number"
                       placeholder="Introduza o nº ID"
                       class="form-control"
                       name="ID"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o posto"
                       class="form-control"
                       name="posto"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o "
                       class="form-control"
                       name="função"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              
              <button nbButton nbStepperPrevious>prev</button>
              <button nbButton nbStepperNext>next</button>
            </form>
          </nb-step>
    
          <nb-step [stepControl]="formEfectivo" label="Contacto">
            <form #formEfectivo="ngForm" class="step-container">
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o "
                       class="form-control"
                       name="email"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
              <br>
              <div class="input-group">
                <input type="text"
                       placeholder="Introduza o nº telemovel"
                       class="form-control"
                       name="telemovel"
                       required
                       nbInput
                       ngModel
                       #name="ngModel"
                      >
              </div>
           
             
              <br>
              <button nbButton nbStepperPrevious>prev</button>
              <button nbButton nbStepperNext>next</button>
            </form>
          </nb-step>
    
          <nb-step [hidden]="true">
            <div class="step-container">
              <h3>Wizard completed!</h3>
              <button nbButton (click)="stepper.reset()">Try again</button>

              <button  nbButton status="primary" (click)="onSaveCarta($event)">Salvar</button>
            </div>
          </nb-step>
        </nb-stepper>
      </nb-card-body>
    </nb-card> </ng-template>

  -->